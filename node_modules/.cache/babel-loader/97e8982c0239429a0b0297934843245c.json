{"ast":null,"code":"import _defineProperty from \"/home/teknotrait/Desktop/Biswajit/Online-Shopping-Cart/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/teknotrait/Desktop/Biswajit/Online-Shopping-Cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/teknotrait/Desktop/Biswajit/Online-Shopping-Cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { ADD_TO_CART, CHECKOUT_REQUEST, CHECKOUT_FAILURE } from '../constants/ActionTypes';\nvar initialState = {\n  addedIds: [],\n  quantityById: {}\n};\n\nvar addedIds = function addedIds() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.addedIds;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (state.indexOf(action.productId) !== -1) {\n        return state;\n      }\n\n      return [].concat(_toConsumableArray(state), [action.productId]);\n\n    default:\n      return state;\n  }\n};\n\nvar quantityById = function quantityById() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.quantityById;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      var productId = action.productId;\n      return _objectSpread({}, state, _defineProperty({}, productId, (state[productId] || 0) + 1));\n\n    default:\n      return state;\n  }\n};\n\nexport var getQuantity = function getQuantity(state, productId) {\n  return state.quantityById[productId] || 0;\n};\nexport var getAddedIds = function getAddedIds(state) {\n  return state.addedIds;\n};\n\nvar cart = function cart() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CHECKOUT_REQUEST:\n      return initialState;\n\n    case CHECKOUT_FAILURE:\n      return action.cart;\n\n    default:\n      return {\n        addedIds: addedIds(state.addedIds, action),\n        quantityById: quantityById(state.quantityById, action)\n      };\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/home/teknotrait/Desktop/Biswajit/Online-Shopping-Cart/src/reducers/cart.js"],"names":["ADD_TO_CART","CHECKOUT_REQUEST","CHECKOUT_FAILURE","initialState","addedIds","quantityById","state","action","type","indexOf","productId","getQuantity","getAddedIds","cart"],"mappings":";;;AAAA,SACEA,WADF,EAEEC,gBAFF,EAGEC,gBAHF,QAIO,0BAJP;AAMA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,EADS;AAEnBC,EAAAA,YAAY,EAAE;AAFK,CAArB;;AAKA,IAAMD,QAAQ,GAAG,SAAXA,QAAW,GAA2C;AAAA,MAA1CE,KAA0C,uEAAlCH,YAAY,CAACC,QAAqB;AAAA,MAAXG,MAAW;;AAC1D,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AACE,UAAIM,KAAK,CAACG,OAAN,CAAcF,MAAM,CAACG,SAArB,MAAoC,CAAC,CAAzC,EAA4C;AAC1C,eAAOJ,KAAP;AACD;;AACD,0CAAYA,KAAZ,IAAmBC,MAAM,CAACG,SAA1B;;AACF;AACE,aAAOJ,KAAP;AAPJ;AASD,CAVD;;AAYA,IAAMD,YAAY,GAAG,SAAfA,YAAe,GAA+C;AAAA,MAA9CC,KAA8C,uEAAtCH,YAAY,CAACE,YAAyB;AAAA,MAAXE,MAAW;;AAClE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKR,WAAL;AAAA,UACUU,SADV,GACwBH,MADxB,CACUG,SADV;AAEE,+BAAYJ,KAAZ,sBACGI,SADH,EACe,CAACJ,KAAK,CAACI,SAAD,CAAL,IAAoB,CAArB,IAA0B,CADzC;;AAGF;AACE,aAAOJ,KAAP;AAPJ;AASD,CAVD;;AAYA,OAAO,IAAMK,WAAW,GAAG,SAAdA,WAAc,CAACL,KAAD,EAAQI,SAAR;AAAA,SACzBJ,KAAK,CAACD,YAAN,CAAmBK,SAAnB,KAAiC,CADR;AAAA,CAApB;AAGP,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAAAN,KAAK;AAAA,SAAIA,KAAK,CAACF,QAAV;AAAA,CAAzB;;AAEP,IAAMS,IAAI,GAAG,SAAPA,IAAO,GAAkC;AAAA,MAAjCP,KAAiC,uEAAzBH,YAAyB;AAAA,MAAXI,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,gBAAL;AACE,aAAOE,YAAP;;AACF,SAAKD,gBAAL;AACE,aAAOK,MAAM,CAACM,IAAd;;AACF;AACE,aAAO;AACLT,QAAAA,QAAQ,EAAEA,QAAQ,CAACE,KAAK,CAACF,QAAP,EAAiBG,MAAjB,CADb;AAELF,QAAAA,YAAY,EAAEA,YAAY,CAACC,KAAK,CAACD,YAAP,EAAqBE,MAArB;AAFrB,OAAP;AANJ;AAWD,CAZD;;AAcA,eAAeM,IAAf","sourcesContent":["import {\n  ADD_TO_CART,\n  CHECKOUT_REQUEST,\n  CHECKOUT_FAILURE\n} from '../constants/ActionTypes'\n\nconst initialState = {\n  addedIds: [],\n  quantityById: {}\n}\n\nconst addedIds = (state = initialState.addedIds, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      if (state.indexOf(action.productId) !== -1) {\n        return state\n      }\n      return [ ...state, action.productId ]\n    default:\n      return state\n  }\n}\n\nconst quantityById = (state = initialState.quantityById, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      const { productId } = action\n      return { ...state,\n        [productId]: (state[productId] || 0) + 1\n      }\n    default:\n      return state\n  }\n}\n\nexport const getQuantity = (state, productId) =>\n  state.quantityById[productId] || 0\n\nexport const getAddedIds = state => state.addedIds\n\nconst cart = (state = initialState, action) => {\n  switch (action.type) {\n    case CHECKOUT_REQUEST:\n      return initialState\n    case CHECKOUT_FAILURE:\n      return action.cart\n    default:\n      return {\n        addedIds: addedIds(state.addedIds, action),\n        quantityById: quantityById(state.quantityById, action)\n      }\n  }\n}\n\nexport default cart\n"]},"metadata":{},"sourceType":"module"}